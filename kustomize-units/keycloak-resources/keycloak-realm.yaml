apiVersion: k8s.keycloak.org/v2alpha1
kind: KeycloakRealmImport
metadata:
  name: sylva
  namespace: keycloak
  labels:
    app: sso
spec:
  keycloakCRName: keycloak
  realm:
    id: sylva
    realm: sylva
    enabled: true
    displayName: Sylva
    loginTheme: base
    accountTheme: keycloak
    adminTheme: keycloak
    groups:
    - name: infra-admins
    users:
    - username: sylva-admin
      email: sylva-admin@example.com
      firstName: sylva
      lastName: sylva
      groups:
      - infra-admins
      credentials:
      - type: password
        value: "${RANCHER_CLIENT_SECRET}"
        temporary: false
      enabled: true
---
apiVersion: legacy.k8s.keycloak.org/v1alpha1
kind: KeycloakRealm
metadata:
  name: sylva
  labels:
    realm1: sylva   # Must match what is declared in external-keycloak.yml
spec:
  unmanaged: true
  realm:
    id: "sylva"
    realm: "sylva"
  instanceSelector:
    matchLabels:
      realm1: sylva
