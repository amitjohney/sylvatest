apiVersion: v1
kind: Secret
metadata:
  name: git-repo-auth-fleet-deployments
  namespace: fleet-local
type: kubernetes.io/basic-auth
stringData:
  username: ${username}
  password: ${password}
---
kind: GitRepo
apiVersion: fleet.cattle.io/v1alpha1
metadata:
  name: monitoring
  namespace: fleet-local
spec:
  repo: ${GIT_REPO}
  branch: ${BRANCH}
  clientSecretName: git-repo-auth-fleet-deployments
  paths:
    - monitoring-crd/
    - monitoring/
  targets:
    - clusterName: local
