apiVersion: management.cattle.io/v3
kind: AuthConfig
metadata:
  name: keycloakoidc
  annotations:
    management.cattle.io/auth-provider-cleanup: unlocked
accessMode: unrestricted
allowedPrincipalIds:
- keycloakoidc_user://rancher
- keycloakoidc_group://infra-admins
authEndpoint: "https://${KEYCLOAK_EXTERNAL_URL}/realms/sylva/protocol/openid-connect/auth"
clientId: rancher
clientSecret: "${RANCHER_CLIENT_SECRET}"
enabled: true
issuer: https://keycloak-service.keycloak.svc.cluster.local:8443/realms/sylva
rancherUrl: "https://${RANCHER_EXTERNAL_URL}"
scope: openid profile email
type: keyCloakOIDCConfig
