---

components:
  cluster:
    kustomization_spec:
      path: ./kustomize-components/cluster-manifests/rke2-capd/base
  workload-cluster:
    repo: capi-bootstrap
    kustomization_spec:
      path: ./kustomize-components/cluster-manifests/rke2-capd/base

  #FIXME: figure out why pivot works locally and not in gitlab ci... (whereas pivot work with kubadm-capd in ci)
  pivot:
    enabled: false

cluster:
  image: registry.gitlab.com/t6306/components/docker-images/rke2-in-docker:v1-24-4-rke2r1  # NOTE: pre-pulled in environment-values/rke2-capd/hacks.sh
  flavor:
    infra_provider: capd
    bootstrap_provider: cabpr
  capd:
    docker_host: unix:///var/run/docker.sock  # dynamically replaced in CI

  cluster_external_ip: # use the .100 (or any other that woudn't be assigned by Docker) IP from the local kind subnet, returned by: docker network inspect -f '{{json .}}' kind | jq -r .IPAM.Config[0].Subnet

  test_workload_cluster_name: "first-workload-cluster"

proxies:
  # put your own proxy settings here if you need
  http_proxy: ""
  https_proxy: ""
  no_proxy: ""

# add your local docker.io registry mirror to avoid rate limitting if required
dockerio_registry_mirror: ""

env_type_ci: true
