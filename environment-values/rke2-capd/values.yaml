debug: true

components:
  cluster:
    kustomization_spec:
      path: ./kustomize-components/cluster-manifests/rke2-capd/base
  rancher:
    enabled: management-only
  k8s-gateway:
    enabled: management-only
    depends_on:
    - name: metallb
  rancher-import:
    enabled: management-only
  metallb:
    enabled: management-only
    repo: capi-bootstrap
    depends_on:
    - name: cert-manager
    spec:
      path: ./kustomize-components/metallb
      wait: true

  #FIXME: figure out why pivot works locally and not in gitlab ci... (whereas pivot work with kubadm-capd in ci)
  pivot:
    enabled: false

cluster:
  flavor:
    infra_provider: capd
    bootstrap_provider: cabpr

capd:
  docker_host: $DOCKER_HOST  # dynamically replaced in CI

proxies:
  # put your own proxy settings here if you need
  http_proxy:
  https_proxy:
  no_proxy:
