---
os_images:
  opensuse-15-5-plain-rke2-1-26-9:
    uri: oci://registry.gitlab.com/sylva-projects/sylva-elements/diskimage-builder/opensuse-15.5-plain-rke2-1.26.9:0.1.2
    filename: opensuse-15.5-plain-rke2-1.26.9.raw
    checksum: c78ffc27f8ab7d51cca6e73449b0f41afc47090a546ea2ba43fcbc82acdef6a3

cluster:
  capm3:
    # following are needed to override the Ubuntu based image (in environment-values/rke2-capm3-virt/values.yaml) for capm3-rke2-virt CIs
    machine_image_url: http://os-image-server-opensuse-15-5-plain-rke2-1-26-9.os-images.svc.cluster.local:8080/opensuse-15.5-plain-rke2-1.26.9.raw
    machine_image_format: raw
    machine_image_checksum: http://os-image-server-opensuse-15-5-plain-rke2-1-26-9.os-images.svc.cluster.local:8080/opensuse-15.5-plain-rke2-1.26.9.raw.sha256sum
    kubelet_extra_args:
      max-pods: "228"
      #node-labels: "feature.node.kubernetes.io/network-sriov.capable=true" ##should be set automatically by rancher-nfd
      feature-gates: "TopologyManager=true,CPUManager=true"
      topology-manager-policy: "best-effort"
      cpu-manager-policy: "static"
      system-reserved: "cpu=100m"
      kube-reserved: "cpu=100m"

units:
  multus:
    enabled: true
  multus-ready:
    enabled: true
  kubevirt:
    enabled: true
  kubevirt-test-vms:
    enabled: true
  harbor:
    enabled: false
  harbor-init:
    enabled: false