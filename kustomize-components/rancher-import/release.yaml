apiVersion: source.toolkit.fluxcd.io/v1beta1
kind: GitRepository
metadata:
  name: capi-rancher-import
  namespace: default
spec:
  gitImplementation: libgit2
  interval: 10m
  ref:
    branch: main
  url: https://gitlab.com/t6306/components/capi-rancher-import.git
  secretRef:
    name: ""
---
apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: capi-rancher-import
  namespace: default
spec:
  chart:
    spec:
      sourceRef:
        kind: GitRepository
        name: capi-rancher-import
        namespace: default
      chart: charts/capi-rancher-import
      reconcileStrategy: Revision
      valuesFiles:
        - charts/capi-rancher-import/values.yaml
  interval: 1m0s
  values:
    conf:
      cattle_agent_kustomize_source:
        spec:
          gitImplementation: libgit2
          ref:
            branch: main
          secretRef:
            name: ""
