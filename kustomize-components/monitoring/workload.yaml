apiVersion: v1
kind: Secret
metadata:
  name: git-repo-auth-fleet-deployments
  namespace: default
type: kubernetes.io/basic-auth
stringData:
  username: ${username}
  password: ${password}
---
kind: GitRepo
apiVersion: fleet.cattle.io/v1alpha1
metadata:
  name: monitoring
  namespace: default
spec:
  repo: https://gitlab.com/t6306/Labs/fleet-deployments.git
  branch: main
  clientSecretName: git-repo-auth-fleet-deployments
  paths:
  - infrastructure/monitoring-stack/monitoring-crd/
  - infrastructure/monitoring-stack/monitoring/
  targets:
  - name: monitoring
    clusterSelector:
      matchLabels:
        rancher-monitoring: yes

